{% extends 'base.html' %}

<!-- Page Name -->
{% block page_title %}
    Home for CBV
{% endblock page_title %}

<!-- Page Content -->
{% block content %}

    <!-- {{now}} -->

    <!-- Tips. html snippet with class
        type ".container.mx-auto" and tab
    -->
    <div class="container mx-auto">
        <!-- Tips. To get high definition image, remove width & quality part ("&w=1956&q=80") of image address copied from unsplash.com-->
        <div class="px-2">
            <div class="rounded-lg bg-gray-800 h-50vh -mx-40 mt-32 mb-24 bg-cover bg-center" style="background-image: url(https://images.unsplash.com/photo-1536315238512-4c8cebdaaf93?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format)"></div>
        </div>
        
        <!-- Room List -->
        <div class="flex flex-wrap -mx-40"><!
            {% for room in object_list %}
                {% comment %}
                <a href="/rooms/{{room.id}}">
                    {{room.name}} / ${{room.price}}
                </a>
                This is bad since we need to remember url path. instead, use URL tag as below.
                URL tag: {% url 'url_path:url_name' arg1 arg2 .. %}
                {% endcomment %}
                <!-- pass 'room' object to room_card.html-->
                {% include 'partials/room_card.html' with room=room %}
            {% endfor %}
        </div>

        <!-- Page Navigator -->
        <h5>
            {% if page_obj.has_previous %}
            <a href="?page=1">&lt;&lt;</a>
            <a href="?page={{page_obj.number|add:-1}}">&lt;</a>
            {% else %}
            &lt;&lt;
            &lt;
            {% endif %}

            Page {{page_obj.number}} of {{page_obj.paginator.num_pages}}
            |
            {% for page in page_obj.paginator.page_range %}
            <a href="?page={{page}}">{{page}}</a>
            {% endfor %}

            {% if page_obj.has_next %}
            <a href="?page={{page_obj.number|add:1}}">&gt;</a>
            <a href="?page={{page_obj.paginator.num_pages}}">&gt;&gt;</a>
            {% else %}
            &gt;
            &gt;&gt;
            {% endif %}
        </h5>
    </div>

{% endblock content %}